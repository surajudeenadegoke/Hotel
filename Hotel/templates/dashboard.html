{% extends "layout.html" %}

{% block title %}
    dashboard
{% endblock %}


{% block main %}

<div class="container mt-3">
    <div class="row">
        <div class="col-md-8">
            <div class="card text-start" style="vertical-align: middle;">
                <div class="card-body">
                    <h6><small class="text-muted">Username: </small>{{username}}</h6>
                    <p class="text-muted"><small>Phone: </small>+234{{phone}}</p>
                </div>
            </div>
        </div>
    </div>
</div>
<ul class="nav nav-tabs my-5" id="myTab" role="tablist">
    <li class="nav-item w-33" role="presentation">
      <button class="nav-link active w-100" id="home-tab" data-bs-toggle="tab" data-bs-target="#bookings" type="button" role="tab" aria-controls="home" aria-selected="true">Bookings</button>
    </li>
    <li class="nav-item w-33" role="presentation">
      <button class="nav-link w-100" id="profile-tab" data-bs-toggle="tab" data-bs-target="#services" type="button" role="tab" aria-controls="profile" aria-selected="false">Services</button>
    </li>
    <li class="nav-item w-33" role="presentation">
      <button class="nav-link w-100" id="contact-tab" data-bs-toggle="tab" data-bs-target="#history" type="button" role="tab" aria-controls="contact" aria-selected="false">History</button>
    </li>
</ul>
<div class="tab-content" id="myTabContent" class="mb-5">
    <div class="tab-pane fade show active container-md" id="bookings" role="tabpanel" aria-labelledby="home-tab">
        <!-- Bookings tab -->
        <form action="/booking" method="post">
            <div class="d-md-flex flex-wrap">
                <div class="form-check mb-3">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="Radios1" value="Violet" title="1000">
                    <label class="form-check-label" for="Radios1">
                        <div class="card" style="max-width: 18rem; min-width: 15rem;">
                            <img src="https://i.pinimg.com/736x/0f/0a/1e/0f0a1e409cd8e690f6e2237bbc18a2a5--hollywood-regency-decor-bedroom-themes.jpg" class="card-img-top resize" alt="...">
                            <div class="card-body d-md-flex justify-content-between">
                                <p class="card-text">Violet room</p>
                                <small class="text-muted">$1000</small>
                            </div>
                        </div>
                    </label>
                </div>
                <div class="form-check mb-3">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="Radios2" value="Magenta" title="2000">
                    <label class="form-check-label" for="Radios2">
                        <div class="card" style="max-width: 18rem; min-width: 15rem;">
                            <img src="https://images.thrillophilia.com/image/upload/s--A4oznb8X--/c_fill,f_auto,fl_strip_profile,h_600,q_auto,w_975/v1/images/photos/000/307/446/original/1591847279_167469467.jpg.jpg?1591847279" class="card-img-top resize" alt="...">
                            <div class="card-body d-md-flex justify-content-between">
                                <p class="card-text">Magenta room</p>
                                <span class="text-muted">$2000</span>
                            </div>
                        </div>
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="Radios3" value="Indigo" title="3000">
                    <label class="form-check-label" for="Radios3">
                        <div class="card" style="max-width: 18rem; min-width: 15rem;">
                            <img src="https://th.bing.com/th/id/OIP.TO4LpcC8eDlS4ovpNMGkBwHaE8?pid=ImgDet&rs=1" class="card-img-top resize" alt="...">
                            <div class="card-body d-md-flex justify-content-between">
                                <p class="card-text">Indigo room</p>
                                <span class="text-muted">$3000</span>
                            </div>
                        </div>
                    </label>
                </div>
            </div>
            <div style="padding-left: 1.5em;">
                <div class="form-floating my-3">
                    <input type="text" class="form-control w-50" id="duration" placeholder="Duration of Stay" name="duration" value="">
                    <label for="duration" class="text-muted">Duration</label>
                </div>
                <!-- Trigger for Light-box -->
                <button type="button" class="btn btn-primary mb-3" id="book_btn">Book reservation</button>
            </div>
            <!-- Light-box for cad number and pay button -->
            <div class="position-absolute top-0 start-0 p-5 w-100 justify-content-center align-items-center" id="light-box" style="display: none; background-color: rgba(0, 0, 0, 0.9); height: 100vh;">
                <div class="w-25">
                    <p id="cost-of-booking" class="text-end text-light"></p>
                    <div class="form-floating">
                        <input type="text" class="form-control" id="card_num_book" name="cardnumber" placeholder="Enter valid card number" value="">
                        <label for="card_num_book">Card number</label>
                    </div>
                    <button type="submit" class="btn btn-primary my-3">Pay</button>
                </div>
            </div>
            <!-- End of light-box -->
        </form>
    </div>
    <div class="tab-pane fade container-md" id="services" role="tabpanel" aria-labelledby="profile-tab">
        <!-- sevices tab` -->
        <form action="/services" method="post">
            <div class="d-md-flex flex-wrap">
                <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" name="option3" id="check0" value="300">
                    <label class="form-check-label" for="check0">
                        <div class="card" style="max-width: 12rem;">
                            <img src="https://th.bing.com/th/id/R.0901e030cc96b79d737d3b17d684a6bf?rik=MkuK8wrSwEpCLA&pid=ImgRaw&r=0" class="card-img-top services" alt="...">
                            <div class="card-body d-flex justify-content-between">
                                <p class="card-text">Buffet</p>
                                <small class="text-muted">$300</small>
                            </div>
                        </div>
                    </label>
                </div>
                <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" name="option4" id="check1" value="400">
                    <label class="form-check-label" for="check1">
                        <div class="card" style="max-width: 12rem;">
                            <img src="https://www.newskarnataka.com/storage/photos/shares/WorkingOutAtHomeM.gif" class="card-img-top services" alt="...">
                            <div class="card-body d-flex justify-content-between">
                                <p class="card-text">Gym</p>
                                <small class="text-muted">$400</small>
                            </div>
                        </div>
                    </label>
                </div>
                <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" name="option2" id="check2" value="200">
                    <label class="form-check-label" for="check2">
                        <div class="card" style="max-width: 12rem;">
                            <img src="https://th.bing.com/th/id/R.be3b00b4836665d2929a3dac714a05ee?rik=qzDlI3xYIF6bGQ&pid=ImgRaw&r=0" class="card-img-top services" alt="...">
                            <div class="card-body d-flex justify-content-between">
                                <p class="card-text">Swimming</p>
                                <small class="text-muted">$200</small>
                            </div>
                        </div>
                    </label>
                </div>
                <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" name="option1" id="check3" value="100">
                    <label class="form-check-label" for="check3">
                        <div class="card" style="max-width: 12rem;">
                            <img src="https://www.pwslaundrywest.com/images/F143178059.jpg" class="card-img-top services" alt="...">
                            <div class="card-body d-flex justify-content-between">
                                <p class="card-text">Laundry</p>
                                <small class="text-muted">$100</small>
                            </div>
                        </div>
                    </label>
                </div>
                <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" name="option5" id="check4" value="500">
                    <label class="form-check-label" for="check4">
                        <div class="card" style="max-width: 12rem;">
                            <img src="https://th.bing.com/th/id/OIP.TDXWrzEmrWmfbZ_G9p9UHQHaEd?pid=ImgDet&rs=1" class="card-img-top services" alt="...">
                            <div class="card-body d-flex justify-content-between">
                                <p class="card-text">Massage</p>
                                <small class="text-muted">$500</small>
                            </div>
                        </div>
                    </label>
                </div>
            </div>
            <div style="padding-left: 1.5em;">
                <!-- <div class="form-floating my-3">
                    <input type="text" class="form-control w-50" id="duratiion" placeholder="Duration of Stay" value="">
                    <label for="duratiion">Number of Days</label>
                </div> -->
                <!-- Trigger for Light-box -->
                <button type="button" class="btn btn-primary mb-3" id="pur_btn">Purchase</button>
            </div>
            <!-- Light-box for card number and pay button -->
            <div class="position-absolute top-0 start-0 p-5 w-100 justify-content-center align-items-center" id="light-box-1" style="display: none; background-color: rgba(0, 0, 0, 0.9); min-height: 100vh;">
                <div class="w-25">
                    <p id="cost-of-services" class="text-end text-light"></p>
                    <div class="form-floating">
                        <input type="text" class="form-control" id="card_num_book" name="credit_num" placeholder="Enter valid card number" value="">
                        <label for="card_num_book">Card number</label>
                    </div>
                    <button type="submit" class="btn btn-primary my-3">Pay</button>
                </div>
            </div>
            <!-- End of Light-box -->
        </form>
        <!-- End of services tab -->
    </div>
    <div class="tab-pane fade container-md" id="history" role="tabpanel" aria-labelledby="contact-tab">
        <table class="table table-secondary table-striped table-hover table-borderless table-sm table-responsive-sm mb-5">
            <thead>
                <tr>
                    <th scope="col">Rooms</th>
                    <th scope="col">Duration</th>
                    <th scope="col">Booking Date</th>
                </tr>
            </thead>
            <tbody>
            {% for detail in output.booking %}
                <tr>
                    <td>{{detail.room_type}}</td>
                    <td>{{detail.duration}}</td>
                    <td>{{detail.date}}</td>
                </tr>
                {% endfor %}
                <!-- <tr>
                    <td>Room 3</td>
                    <td>9 days</td>
                    <td>23/12/2022 15:45:32</td>
                </tr> -->
            </tbody>
        </table>
        <table class="table table-secondary table-striped table-hover table-borderless table-sm table-responsive-sm">
            <thead>
                <tr>
                    <th scope="col">Services</th>
                    <th scope="col">Cost</th>
                    <th scope="col">Purchase Date</th>
                </tr>
            </thead>
            <tbody>
            {% for val in output.new_values %}
                <tr>
                    <td>{{", ".join(val[0])}}</td>
                    <td>${{val[1]}}</td>
                    <td>{{val[2]}}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}